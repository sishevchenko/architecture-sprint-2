# Шардирование

## Доработки

Для реализации шардирования были добавлены сервисы MongoDB:

- `configSrv` - Сервис MongoDB запущенный в режиме конфигурации
- `shard1` - Первая шарда MongoDB
- `shard2` - Вторая шарда MongoDB
- `mongos_router` - Сервис MongoDB запущенный в режиме роутера для распределения запросов между шардами

Билы добавлены bash скрипты для автоматизации настройки шардирования

> [!TIP]
> В выводе скриптов можно увидеть в какой шарде сколько документов содержится
> Для повторного запуска скриптов проверки содержимого шардов можно использовать команду:
> `bash ./mongo-sharding/scripts/check-data.sh`

## Запуск приложения

Инструкция для запуска проекта:

- `cd ./mongo-sharding/` - Перейти в директорию проекта
- `docker compose up` - Запустить контейнеры docker
- `bash configurate-mongo.sh` - Настройка приложения и наполнение его тестовыми данными

[Схема с шардированием](./mongo-sharding/mongo-sharding.drawio)

[К оглавлению](../README.md)
