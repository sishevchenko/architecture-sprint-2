# Репликация

## Доработки

Для реализации репликации были добавлены сервисы MongoDB:

- `shard1-repl1` - Первая реплика первой шарды
- `shard1-repl2` - Вторая реплика первой шарды
- `shard2-repl1` - Первая реплика второй шарды
- `shard2-repl2` - Вторая реплика второй шарды

Дополнительно были модифицированы скрипты шардирования для инициализации реплик в шардах

> [!TIP]
> В выводе скриптов можно увидеть в какой шарде и в какой реплике сколько документов содержится
> Для повторного запуска скриптов проверки содержимого шардов можно использовать команду:
> `bash ./mongo-sharding/scripts/check-data.sh`

## Запуск приложения

Инструкция для запуска проекта:

- `cd ./mongo-sharding-repl/` - Перейти в директорию проекта
- `docker compose up` - Запустить контейнеры docker
- `bash configurate-mongo.sh` - Настройка приложения и наполнение его тестовыми данными

[Схема с репликацией](./mongo-sharding-repl/mongo-sharding-repl.drawio)

[К оглавлению](../README.md)
